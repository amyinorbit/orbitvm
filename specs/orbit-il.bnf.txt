// OrbitVM Intermediate Language - BNF
// BNF grammar for the OrbitVM intermediate language
// Orbit-IL is closer to the VM's operating model than normal Orbit source code,
// but still provides higher-level concepts (variable names, literal operands). 

<program>       ::= <function> <program>
                  | <>

<declarations>  ::= <declaration> <declarations>
                  | <>

<declaration>   ::= "global" <identifier>

<function>      ::= <signature> "{" <statements> "}"

<signature>     ::= <identifier> "(" <args> ")"

<args>          ::= <variable>
                  | <variable> "," <args>
                  | <>

<statements>    ::= <statement>
                  | <statement> <statements>

<statement>     ::= <opcode> <operand> <eol>
                  | "var" <variable> <eol>
                  | <label> <eol>

<opcode>        ::= <identifier>

<label>         ::= <identifier> ":"

<operand>       ::= <number>
                  | <index>
                  | <string>
                  | <variable>
                  | <>

<number>        ::= // number

<index>         ::= <integer>

<variable>      ::= "%"<identifier>

